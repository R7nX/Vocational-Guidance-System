"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[7159],{9706:(e,t,n)=>{n.d(t,{L:()=>i});var o=n(57842);const i=n(74235).kr9(o.YP)},67159:(e,t,n)=>{n.d(t,{q:()=>T,Z:()=>G});var o={};n.r(o),n.d(o,{load_more_button_label:()=>D});var i=n(85893),s=n(3735),l=n(30845),r=n(86706),d=n(91384),c=n(66132),a=n(46954),h=n(70549),p=n(18711),u=n(48944),I=n(4094),f=n(43882),g=n(69184),S=n(57842),b=n(30447),O=n(6464),m=n(93416),x=n(15964),j=n(9435),P=n(74235),R=n(17060),v=n(4991),N=n(55360),E=n(6671),q=n(9706);const A="gDCZZ",_="HxaG2",k="ATnvl",w="dycl5 hNER6 jJsTo qBwND",C="PwSsU O84oE",Z="rx4AP";var B=n(73505);n(60860),n(37105),n(8682);const D=()=>"Load more photos",F=e=>o,J=(0,B.G)(F);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T=()=>(0,i.jsx)(P.tJQ,{className:_,children:(0,i.jsx)(P.tJQ,{className:k,children:I.w6H(0,17).map((e=>(0,i.jsx)(P.tJQ,{className:w,children:(0,i.jsx)(P.tJQ,{className:C})},e)))})}),y=(0,m.DO)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:f.HP((()=>(0,i.jsx)(v.Z,{type:"photos"}))),getPlaceholderEl:f.HP((()=>(0,i.jsx)(T,{})))}),U=b.Ue();class H extends P.wA2{constructor(){super(...arguments),Q(this,"getInfiniteScrollSetting",(e=>{let{shouldRequireInfiniteScrollOptIn:t}=e;return t?U.mk.OptInRequired({optedIn:!1}):U.mk.Enabled})),Q(this,"state",{infiniteScrollSetting:this.getInfiniteScrollSetting(this.props)}),Q(this,"toggleInfiniteScrollOptIn",(()=>{const{infiniteScrollSetting:e}=this.state;U.match({OptInRequired:e=>{let{optedIn:t}=e;const n=U.mk.OptInRequired({optedIn:(0,O.U_)(t)});this.setState({infiniteScrollSetting:n})},[b._]:s.Q1})(e)})),Q(this,"fetchDataAndBuildActions",(0,l.Z)((e=>(0,s.ls)(e,g.UI((0,s.ls)(u.Yq,h.N.traverseArray(h.dp),(e=>{let[t,n]=e;return[(0,c.VA)(n),c.aU.mk.HandleNextPhotoFeedPageResponse({feedId:this.props.feedId,photoIds:t.map((e=>e.id))})]}))))))),Q(this,"createPhotoFeedIdContextValue",(0,l.Z)((e=>S.G(e))))}UNSAFE_componentWillReceiveProps(e){if(e.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){const t=this.getInfiniteScrollSetting(e);this.setState({infiniteScrollSetting:t})}}render(){const{photoFeedOption:e,photosOption:t,children:n,getNoContentEl:o,getPlaceholderEl:s,renderBeneathLoadMoreButton:l,feedId:r,fetchPhotos:d,notifier$:c,intersectionObserverRoot:h,intersectionObserverRootMarginBottom:p,t:u}=this.props,{infiniteScrollSetting:I}=this.state,f=!1===U.match({OptInRequired:e=>{let{optedIn:t}=e;return t},Enabled:()=>!0})(I);return(0,i.jsx)(q.L.Provider,{value:this.createPhotoFeedIdContextValue(r),children:(0,i.jsx)(N.f,{renderItems:n,feedItemsOption:t,feedStateOption:e,getScrollFooterEl:()=>(0,i.jsx)(P.tJQ,{className:Z,children:U.match({OptInRequired:e=>{let{optedIn:t}=e;return t?(0,i.jsx)(E.Z,{}):(0,i.jsxs)(P.PRT,{children:[(0,i.jsx)(P.tJQ,{className:A,children:(0,i.jsx)(R.Z,{tag:"button",buttonType:j.L$.Outline,onClick:this.toggleInfiniteScrollOptIn,type:"button",children:u.load_more_button_label()})}),null==l?void 0:l()]})},Enabled:()=>(0,i.jsx)(E.Z,{})})(I)}),getNoContentEl:o,getPlaceholderEl:s,shouldDisableInfiniteScroll:f,fetchDataAndBuildActions:this.fetchDataAndBuildActions(d),notifier$:c,intersectionObserverRoot:h,intersectionObserverRootMarginBottom:p},a.un(r))})}}const L=(0,p.O)()((()=>{const e=(0,x.XT)(),t=(0,x.u0)();return(n,o)=>({photoFeedOption:e(n,o.feedId),photosOption:t(n,o.feedId)})})),G=(0,s.zG)(H,(0,r.$j)(L),J,(e=>(0,d.b9)(e,y)))}}]);
//# sourceMappingURL=7159.f44861373ab064e28ae7.js.map